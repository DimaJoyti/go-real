# GoReal Backend API

GoReal - —Ü–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—é –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ CRM, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–¥–∞–∂–∞–º–∏, –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é.

## üöÄ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è** - JWT-based auth –∑ —Ä–æ–ª–µ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏** - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- **CRM —Å–∏—Å—Ç–µ–º–∞** - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º–∏ —Ç–∞ –ª—ñ–¥–∞–º–∏
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–¥–∞–∂–∞–º–∏** - –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª –ø—Ä–æ–¥–∞–∂—ñ–≤ –∑ –∫–æ–º—ñ—Å—ñ—è–º–∏
- **–°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–¥–∞–Ω—å** - –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å
- **–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è** - –°–∏—Å—Ç–µ–º–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞** - –ë—ñ–∑–Ω–µ—Å-–∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å
- **Observability** - OpenTelemetry —Ç—Ä–µ–π—Å–∏–Ω–≥ —Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

### üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **Clean Architecture** –∑ –Ω–∞—Å—Ç—É–ø–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é:

```
backend/
‚îú‚îÄ‚îÄ cmd/api/                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –¥–æ–¥–∞—Ç–∫—É
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ domain/             # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —Ç–∞ —Å—É—Ç–Ω–æ—Å—Ç—ñ
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –°–µ—Ä–≤—ñ—Å–∏ –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ handlers/           # HTTP –æ–±—Ä–æ–±–Ω–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/     # –ó–æ–≤–Ω—ñ—à–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (Supabase)
‚îÇ   ‚îú‚îÄ‚îÄ container/          # Dependency Injection
‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # HTTP middleware
‚îÇ   ‚îî‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îî‚îÄ‚îÄ observability/     # Observability —É—Ç–∏–ª—ñ—Ç–∏
‚îî‚îÄ‚îÄ test/                  # –¢–µ—Å—Ç–∏
```

## üìã API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
```
POST /api/auth/login           # –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
POST /api/auth/register        # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
POST /api/auth/refresh         # –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É
POST /api/auth/logout          # –í–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏
POST /api/auth/change-password # –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—é
POST /api/auth/reset-password  # –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é
```

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
```
GET    /api/users             # –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
POST   /api/users             # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
GET    /api/users/{id}        # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
PUT    /api/users/{id}        # –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
DELETE /api/users/{id}        # –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```

### –ö–ª—ñ—î–Ω—Ç–∏
```
GET    /api/clients           # –°–ø–∏—Å–æ–∫ –∫–ª—ñ—î–Ω—Ç—ñ–≤
POST   /api/clients           # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
GET    /api/clients/{id}      # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
PUT    /api/clients/{id}      # –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
DELETE /api/clients/{id}      # –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞
POST   /api/clients/{id}/verify # –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç–∞
GET    /api/clients/{id}/history # –Ü—Å—Ç–æ—Ä—ñ—è –∫–ª—ñ—î–Ω—Ç–∞
```

### –ó–∞–≤–¥–∞–Ω–Ω—è
```
GET    /api/tasks             # –°–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å
POST   /api/tasks             # –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è
GET    /api/tasks/{id}        # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è
PUT    /api/tasks/{id}        # –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è
DELETE /api/tasks/{id}        # –í–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è
POST   /api/tasks/{id}/complete # –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è
GET    /api/tasks/assigned/{userID} # –ó–∞–≤–¥–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
GET    /api/tasks/overdue     # –ü—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
POST   /api/tasks/bulk-assign # –ú–∞—Å–æ–≤–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Go 1.22+** - –û—Å–Ω–æ–≤–Ω–∞ –º–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
- **Chi Router** - HTTP —Ä–æ—É—Ç–µ—Ä
- **Supabase** - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ç–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- **OpenTelemetry** - Observability
- **JWT** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- **bcrypt** - –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤

## üöÄ –ó–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- Go 1.22+
- Supabase –ø—Ä–æ–µ–∫—Ç
- PostgreSQL (—á–µ—Ä–µ–∑ Supabase)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
```bash
git clone <repository-url>
cd goreal/backend
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
go mod download
```

3. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —Ñ–∞–π–ª:
```env
# Server
PORT=8080
ENVIRONMENT=development
SERVICE_NAME=goreal-backend

# Database (Supabase)
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# JWT
JWT_ACCESS_SECRET=your_access_secret
JWT_REFRESH_SECRET=your_refresh_secret
JWT_ACCESS_EXPIRY_MINUTES=15
JWT_REFRESH_EXPIRY_DAYS=7

# Observability
JAEGER_ENDPOINT=http://localhost:14268/api/traces
LOG_LEVEL=info

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000

# Rate Limiting
RATE_LIMIT_RPM=100
RATE_LIMIT_BURST=10
```

4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
go run cmd/api/main.go
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:8080`

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤:
```bash
# –í—Å—ñ —Ç–µ—Å—Ç–∏
go test ./...

# –¢–µ—Å—Ç–∏ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º
go test -cover ./...

# –¢–µ—Å—Ç–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤
go test ./internal/services -v

# –¢–µ—Å—Ç–∏ API
go test ./test -v
```

## üìä Observability

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞—î –ø–æ–≤–Ω—É observability –∑:

- **–¢—Ä–µ–π—Å–∏–Ω–≥** - –†–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏–π —Ç—Ä–µ–π—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ OpenTelemetry
- **–ú–µ—Ç—Ä–∏–∫–∏** - –ó–±—ñ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è** - –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –∑ –∫–æ—Ä–µ–ª—è—Ü—ñ—î—é

–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –≤ Jaeger –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç—Ä–µ–π—Å—ñ–≤.

## üîí –ë–µ–∑–ø–µ–∫–∞

- JWT —Ç–æ–∫–µ–Ω–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- –†–æ–ª–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø—É
- bcrypt –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- Rate limiting
- CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö

## üìà –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–æ—Ä—É—Ç–∏–Ω
- Connection pooling –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ö–µ—à—É–≤–∞–Ω–Ω—è (–ø–ª–∞–Ω—É—î—Ç—å—Å—è)
- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ –ë–î

## ü§ù –í–Ω–µ—Å–æ–∫

1. Fork –ø—Ä–æ–µ–∫—Ç—É
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∑–º—ñ–Ω–∏ (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ª—ñ—Ü–µ–Ω–∑–æ–≤–∞–Ω–∏–π –ø—ñ–¥ MIT License.
